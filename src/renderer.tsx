import Nano, { Component, Helmet } from 'nano-jsx'

export function render(component: Component) {
  const app = Nano.renderSSR(component)
  const { body, head, footer, attributes } = Helmet.SSR(app)
  const favicon = 'data:image/png;base64,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'

  const html = `
    <!DOCTYPE html>
    <html ${attributes.html.toString()}>
      <head>
        <meta charset='UTF-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/water.css@2/out/light.min.css' />
        <link rel='icon' type='image/png' href=${favicon}>
        ${head.join('\n')}
      </head>
      <body ${attributes.body.toString()}>
        ${body}
        ${footer.join('\n')}
      </body>
    </html>
  `
  return html
}
